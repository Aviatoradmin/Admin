```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Aviator Game</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #000;
    color: #fff;
  }

  /* Overlay for login/signup */
#authOverlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.8);
  display: flex; justify-content: center; align-items: center;
  z-index: 1000;
  flex-direction: column;
  padding: 20px;
}
#authContainer {
  background: #222;
  padding: 20px;
  border-radius: 8px;
  max-width: 350px;
  width: 100%;
  box-sizing: border-box;
}
input[type="text"], input[type="password"], input[type="number"] {
  width: 100%;
  padding: 8px;
  margin-top: 8px;
  margin-bottom: 12px;
  border: none;
  border-radius: 4px;
  font-size: 1em;
}
button {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius:4px;
  background-color: #1368; /* will override per button */
  color: #fff;
  font-size: 1em;
  cursor: pointer;
}
button:hover { opacity: 0.9; }

#gameArea {
  display: none; /* show after login/signup */
  flex-direction: column;
  height: 100vh;
}

/* Top bars */
#topBars {
  display: flex;
  justify-content: space-between;
  padding: 10px;
}
#withdrawBtn, #balanceDisplay {
  padding: 8px 12px;
  border-radius: 4px;
  font-weight: bold;
}
#withdrawBtn { background: yellow; color: black; }
#balanceDisplay { background: green; color: white; }

#gameCanvasContainer {
  position: relative;
  width: 100%;
  height: 40vh;
  background: #111;
  overflow: hidden;
  border: 2px solid #444;
}

#plane {
  position: absolute;
  width: 50px;
  height: 50px;
  font-size: 2em;
  user-select: none;
  pointer-events: none; /* prevent dragging */
}

#multiplierDisplay {
  position: absolute;
  top: 10px;
  width: 100%;
  text-align: center;
  font-size: 1.2em;
  font-weight: bold;
  color: #0f0;
}

#controlsArea {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
}

#stakeContainer, #betContainer {
  width: 90%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 8px 0;
}
input[type="number"] {
  width: 150px;
  padding: 6px;
  margin-right: 8px;
}

#betBtn, #cashOutBtn, #cancelBtn, #withdrawConfirmBtn {
  padding: 10px 20px;
  margin: 8px;
  border: none;
  border-radius: 4px;
  font-size: 1em;
  cursor: pointer;
}
#betBtn { background-color: #0a0; color: #fff; }
#cashOutBtn { background-color: #007700; color: #fff; }
#cancelBtn { background-color: #a00; color: #fff; }
#withdrawConfirmBtn { background-color: #0077ff; color: #fff; }

#pastMultipliers {
  overflow-x: auto;
  background: #222;
  padding: 8px;
  white-space: nowrap;
  font-size: 0.9em;
}
#pastMultipliers span {
  display: inline-block;
  margin: 0 4px;
  padding: 4px 8px;
  background: #333;
  border-radius: 3px;
}

#messageBox {
  margin-top: 10px;
  font-weight: bold;
  color: #ff0;
  min-height: 1.2em;
  text-align: center;
}
</style>
</head>
<body>

<!-- Authentication Overlay -->
<div id="authOverlay">
  <div id="authContainer">
    <h2 style="margin-top:0;text-align:center;">Aviator Login / Sign Up</h2>
    <div>
      <button id="showSignupBtn">Create Account</button>
      <button id="showLoginBtn">Login</button>
    </div>
    <div id="authForm" style="margin-top:10px;">
      <!-- Form content injected by JS -->
    </div>
  </div>
</div>

<!-- Main Game Area -->
<div id="gameArea">
  <!-- Top bars -->
  <div id="topBars">
    <div id="withdrawBtn">Withdraw</div>
    <div id="balanceDisplay">Balance: <span id="balance">1000</span></div>
  </div>
  <!-- Canvas container -->
  <div id="gameCanvasContainer">
    <div id="multiplierDisplay">√ó1.00</div>
    <div id="plane" style="left:0; bottom:10px;">‚úàÔ∏è</div>
  </div>
  <!-- Controls & Betting -->
  <div id="controlsArea">
    <div style="width:90%; display:flex; justify-content:space-around; margin-top:10px;">
      <div>
        <label>Stake:</label>
        <input type="number" id="stakeInput" min="1" max="999999" value="10"/>
      </div>
      <button id="betBtn">Bet</button>
    </div>

    <div id="betContainer">
      <button id="cancelBtn" style="display:none; background:#a00;">Cancel Bet</button>
      <button id="cashOutBtn" style="display:none; background:#007700;">Cash Out</button>
    </div>

    <div style="width:90%; margin-top:10px;">
      <div>Past 10 Multipliers:</div>
      <div id="pastMultipliers"></div>
    </div>

    <div style="width:90%; margin-top:10px;">
      <label>Enter Withdrawal Amount:</label>
      <div style="display:flex; align-items:center;">
        <input type="number" id="withdrawAmount" min="1" style="flex:1;"/>
        <button id="withdrawConfirmBtn">Proceed</button>
      </div>
      <div id="withdrawMessage"></div>
    </div>

    <div id="messageBox"></div>
  </div>
</div>

<script>
  // =======================
  // Constants and State
  // =======================
  const authOverlay = document.getElementById('authOverlay');
  const authFormDiv = document.getElementById('authForm');
  const showSignupBtn = document.getElementById('showSignupBtn');
  const showLoginBtn = document.getElementById('showLoginBtn');
  const gameArea = document.getElementById('gameArea');
  const balanceSpan = document.getElementById('balance');
  const balanceDisplay = document.getElementById('balance');
  const multiplierDisplay = document.getElementById('multiplierDisplay');
  const plane = document.getElementById('plane');
  const pastMultipliersDiv = document.getElementById('pastMultipliers');
  const messageBox = document.getElementById('messageBox');

  const stakeInput = document.getElementById('stakeInput');
  const betBtn = document.getElementById('betBtn');
  const cancelBtn = document.getElementById('cancelBtn');
  const cashOutBtn = document.getElementById('cashOutBtn');

  const withdrawBtn = document.getElementById('withdrawBtn');
  const withdrawAmountInput = document.getElementById('withdrawAmount');
  const withdrawProceedBtn = document.getElementById('withdrawConfirmBtn');
  const withdrawMsg = document.getElementById('withdrawMessage');

  // User data in local storage
  let userData = {
    phone: '',
    password: '',
    balance: 1000,
  };

  // Game variables
let gameInterval = null;
let planeAnimationFrame = null;
let currentMultiplier = 1.0;
let gameRunning = false;
let gameStartTime = null;
let gameDuration = 3000; // ms for plane to reach burst point
let totalFlightTime = 3000; // ms total flight
let generatedMultiplier = 0; // The burst point multiplier
let lastMultiplier = 1.0;

// Betting states
let currentBet = 0;
let betActive = false; // whether a bet is ongoing
let isOngoingRound = false;
let roundStartTime = null;
let roundCount = 0;
let multipliersHistory = []; // store last 10

// Initialize
loadUser();
showAuthOptions();

// =====================
// Authentication Functions
// =====================//
function loadUser() {
  const stored = localStorage.getItem('aviatorUser');
  if (stored) {
    userData = JSON.parse(stored);
    document.getElementById('balance').innerText = userData.balance;
  } else {
    saveUser();
  }
}

function saveUser() {
  localStorage.setItem('aviatorUser', JSON.stringify(userData));
}

function showAuthOptions() {
  authOverlay.style.display = 'flex';
  renderAuthForm('signin');
}

function renderAuthForm(mode) {
  authFormDiv.innerHTML = '';
  if (mode==='signup') {
    authFormDiv.innerHTML = `
      <h3>Create Account</h3>
      <input type="text" id="phoneInput" placeholder="Phone Number"/>
      <input type="password" id="passwordInput" placeholder="Password"/>
      <input type="password" id="confirmPassword" placeholder="Confirm Password"/>
      <button id="signupBtn">Sign Up</button>
      <button id="backBtn">Back</button>
    `;
    document.getElementById('signupBtn').onclick=signupHandler;
    document.getElementById('backBtn').onclick=()=>renderAuthForm('signin');
  } else {
    authFormDiv.innerHTML = `
      <h3>Login</h3>
      <input type="text" id="loginPhone" placeholder="Phone Number"/>
      <input type="password" id="loginPassword" placeholder="Password"/>
      <button id="loginBtn">Login</button>
      <button id="backBtn">Back</button>
    `;
    document.getElementById('loginBtn').onclick=loginHandler;
    document.getElementById('backBtn').onclick=()=>renderAuthForm('signin');
  }
}

document.getElementById('showSignupBtn').onclick=()=>renderAuthForm('signup');
document.getElementById('showLoginBtn').onclick=()=>renderAuthForm('signin');

function signupHandler() {
  const phone = document.getElementById('phoneInput').value.trim();
  const pass = document.getElementById('passwordInput').value;
  const conf = document.getElementById('confirmPassword').value;
  if (!phone || !pass || !conf) { alert('Fill all fields'); return; }
  if (pass!==conf) { alert('Passwords do not match'); return; }
  // Save user
  userData = { phone: phone, password:pass, balance: 1000 };
  saveUser();
  updateBalanceDisplay();
  authOverlay.style.display='none';
  startGame();
}

function loginHandler() {
  const phone = document.getElementById('loginPhone').value.trim();
  const pass = document.getElementById('loginPassword').value;
  if (!phone || !pass) { alert('Fill all fields'); return; }
  // Load user
  const stored = localStorage.getItem('aviatorUser');
  if (!stored) { alert('No user found'); return; }
  const user = JSON.parse(stored);
  if (user.phone===phone && user.password===pass) {
    userData=user;
    saveUser();
    updateBalanceDisplay();
    authOverlay.style.display='none';
    startGame();
  } else {
    alert('Incorrect phone/password');
  }
}

// =======================
// Utility functions
// =======================
function updateBalanceDisplay() {
  document.getElementById('balance').innerText = userData.balance;
}

function showMessage(msg,color='#ff0') {
  messageBox.innerText=msg;
  messageBox.style.color=color;
  setTimeout(()=>{ messageBox.innerText=''; },3000);
}

// =======================
// Game functions
// =======================//
function startGame() {
  document.getElementById('gameArea').style.display='flex';
  loadUser();
  // Initialize game state
  resetGame();
  prepareNextRound();
}

// Reset game state
function resetGame() {
  // Animate plane to start position
  const planeEl = document.getElementById('plane');
  planeEl.style.left='0px'; planeEl.style.bottom='10px';
  cancelAnimationFrame(planeAnimationFrame);
  clearInterval(gameInterval);
  currentMultiplier=1.0;
  lastMultiplier=1.0;
  multiplierDisplay.innerText='√ó1.00';
  // Reset buttons
  cancelBtn.style.display='none';
  cashOutBtn.style.display='none';
  betBtn.style.display='block';
  document.getElementById('stakeInput').value='10';
}

// Prepare next round (simulate daily fixed multiplier)
function prepareNextRound() {
  // Generate shared multiplier
  // For demo, pick a random multiplier between 2 and 10
  generatedMultiplier = (Math.random()*8+2).toFixed(2); // e.g. 2.00 to 10.00
  // Store in history
  updatePastMultipliers(generatedMultiplier);
  // Reset game variables
  isOngoingRound=false;
  roundCount++;
  // Start countdown before game
  messageBox.innerText='Next round starting soon...';
  setTimeout(startRound, 3000); // 3 seconds delay
}

// Update past multipliers display
function updatePastMultipliers(mult) {
  multipliersHistory.unshift(mult);
  if (multipliersHistory.length>10) multipliersHistory.pop();
  pastMultipliersDiv.innerHTML='';
  for (let m of multipliersHistory) {
    const span = document.createElement('span');
    span.innerText='√ó'+m;
    pastMultipliersDiv.appendChild(span);
  }
}

function startRound() {
  // Start plane movement
  movePlane();
  // Initialize multiplier display
  currentMultiplier=1.0;
  multiplierDisplay.innerText='√ó1.00';
  // Start timer for burst
  gameStartTime= null;
  isOngoingRound=true;
  // Animate
  roundStartTime=Date.now();
}

// Animate the plane
function movePlane() {
  const startTime=Date.now();
  const containerHeight= document.getElementById('gameCanvasContainer').clientHeight;
  const containerWidth= document.getElementById('gameCanvasContainer').clientWidth;
  const planeEl= document.getElementById('plane');
  
  function animate() {
    const now=Date.now();
    const elapsed= now - startTime;
    if (elapsed>totalFlightTime) {
      // Burst
      burst();
      return;
    }
    const progress= elapsed/totalFlightTime;
    // Path: from left bottom (x=0,y=bottom)
    // to right top asymptotic: simulate a curve
    // For simplicity, move along a curve y=-a*ln(x+1)+b, but simpler linear plus vertical sigmoid
    let posX = progress* (containerWidth - 50);
    // simulate exponential decay (up and down
    let yOffset= Math.sin(progress*Math.PI)*50; // oscillate
    let yPos = containerHeight - 60 + yOffset;
    planeEl.style.left=posX+'px';
    planeEl.style.bottom=yPos+'px';
    // Update currentMultiplier
    // For demo, let's linearly increase multiplier up to burst
    // But to tie with actual burst, compare with generatedMultiplier
    const currentMultiplierValue= (1 + progress*(generatedMultiplier -1)).toFixed(2);
    currentMultiplier=parseFloat(currentMultiplierValue);
    multiplierDisplay.innerText='√ó'+currentMultiplier.toFixed(2);
    // Update real-time
    if (isOngoingRound && currentMultiplier>=parseFloat(generatedMultiplier)) {
      // Burst!
      burst();
      return;
    }
    planeAnimationFrame=requestAnimationFrame(animate);
  }
  animate();
}

function burst() {
  cancelAnimationFrame(planeAnimationFrame);
  isOngoingRound=false;
  // Show burst message
  messageBox.innerText='üí• Burst!';

  // If bet active, check if player pressed cash out/indexed their bet
  // No automatic payout, so just reset after delay
  setTimeout(()=> {
    resetGame();
    prepareNextRound();
  },3000);
}

// =======================
// Betting and controls
// =======================//
betBtn.onclick=()=> {
  let stakeVal= parseFloat(document.getElementById('stakeInput').value);
  if (isNaN(stakeVal) || stakeVal<=0) { alert('Enter valid stake'); return; }
  if (stakeVal>userData.balance) { alert('Insufficient balance'); return; }
  // Deduct from balance immediately
  userData.balance -= stakeVal;
  updateBalanceDisplay();
  // Set bet
  currentBet=stakeVal;
  betActive=true;
  // Adjust buttons
  document.getElementById('betBtn').style.display='none';
  cancelBtn.style.display='inline-block';
  cashOutBtn.style.display='none';
  messageBox.innerText='Bet placed! Waiting for burst...';

  // Store current bet info
  window.currentBet = stakeVal;

  // If this is a late bet (during ongoing round), it's accepted as next round
  if (isOngoingRound) {
    // Bet accepted for next round after burst
    // no immediate effect
  }
}

cancelBtn.onclick=()=> {
  // Withdraw bet if round hasn't started
  // Only allowed before burst
  if (isOngoingRound) {
    // Can't cancel if round already flying, but allow if during 5 sec countdown before start
    // For demo, allowing cancel anytime before burst
    userData.balance += currentBet;
    updateBalanceDisplay();
    messageBox.innerText='Bet cancelled.';
    resetBetButtons();
  }
}

function resetBetButtons() {
  document.getElementById('betBtn').style.display='block';
  cancelBtn.style.display='none';
  cashOutBtn.style.display='none';
  betActive=false;
}

function enableCashOut() {
  if (!betActive) return;
  // Show cash out button during a round
  document.getElementById('cashOutBtn').style.display='inline-block';
  document.getElementById('cancelBtn').style.display='none';
}

// Update cash out button during flight
function updateCashOut(multiplier) {
  // Show potential winnings
  const winnings= (currentBet*multiplier).toFixed(2);
  document.getElementById('cashOutBtn').innerHTML='Cash Out<br>√ó'+multiplier.toFixed(2)+' = '+winnings;
}

// When player presses Cash Out
cashOutBtn.onclick=()=>{
  if (!betActive) return;
  // Add multiplier winnings to balance, deduct stake (already deducted)
  let cashMultiplier= currentMultiplier;
  let winnings= currentBet*cashMultiplier;
  userData.balance+=winnings;
  updateBalanceDisplay();
  showMessage('Cashed Out! Winnings: '+winnings.toFixed(2));
  // End round
  endRound(true);
}

// End round
function endRound(cashedOut) {
  cancelAnimationFrame(planeAnimationFrame);
  isOngoingRound=false;
  // Reset buttons
  resetBetButtons();
  // Show message
  if (cashedOut) {
    messageBox.innerText='You cashed out before burst!';
  } else {
    messageBox.innerText='Lost your stake.';
  }

  // Reset plane
  setTimeout(()=> {
    resetGame();
    prepareNextRound();
  },2000);
}

// =======================
// Withdraw Logic
// =======================//
document.getElementById('withdrawBtn').onclick=()=> {
  document.getElementById('withdrawAmount').value='';
  document.getElementById('withdrawMessage').innerText='';
  document.getElementById('withdrawMessage').innerText='';
};

document.getElementById('withdrawConfirmBtn').onclick=()=>{
  const amt= parseFloat(document.getElementById('withdrawAmount').value);
  if (isNaN(amt) || amt<=0) { alert('Invalid amount'); return; }
  if (amt>userData.balance) { alert('Insufficient balance'); return; }
  userData.balance-=amt;
  updateBalanceDisplay();
  document.getElementById('withdrawMessage').innerText='Withdrawt request of '+amt.toFixed(2)+' submitted!';
  // reset input
  document.getElementById('withdrawAmount').value='';
};

// ======================
// Initialize
// ======================//
</script>
</body>
</html>
```
